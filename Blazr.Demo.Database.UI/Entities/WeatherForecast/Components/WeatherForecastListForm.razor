@implements IDisposable
@namespace Blazr.Demo.Database.UI

<UIListControl TRecord=DcoWeatherForecast Records=this.listViewService!.Records LoadState=this.loadState class="table">
    <RowTemplate>
        <UIListColumn HeaderTitle="Date">@context.Date.ToShortDateString()</UIListColumn>
        <UIListColumn HeaderTitle="Temp &deg;C">@context.TemperatureC</UIListColumn>
        <UIListColumn HeaderTitle="Temp &deg;F">@context.TemperatureF</UIListColumn>
        <UIListColumn IsMaxColumn=true HeaderTitle="Summary">@context.Summary</UIListColumn>
        <UIListColumn HeaderTitle="Edit/View" NoWrap="true">
            <UIAuthorizeButton Policy=@AppPolicies.IsUser type="button" class="btn-sm btn-primary" ClickEvent="() => this.EditRecord(context.Id)">Edit</UIAuthorizeButton>
            <UIAuthorizeButton Policy=@AppPolicies.IsVisitor type="button" class="btn-sm btn-secondary" ClickEvent="() => this.ViewRecord(context.Id)">View</UIAuthorizeButton>
            <UIAuthorizeButton Policy=@AppPolicies.IsUser type="button" class="btn-sm btn-danger" ClickEvent="() => this.DeleteRecord(context.Id)">Delete</UIAuthorizeButton>
        </UIListColumn>
    </RowTemplate>
</UIListControl>

<UIContainer Size=BootstrapSize.Fluid>
    <UIFormRow>
        <UIColumn Columns=12 class="text-end">
            <UIAuthorizeButton Policy=@AppPolicies.IsUser class="btn-dark" ClickEvent="AddRecordAsync">Add Random Record</UIAuthorizeButton>
        </UIColumn>
    </UIFormRow>
</UIContainer>

<UIDisplay Display=this.IsModal>
    <BaseModalDialog @ref="this.modalDialog"></BaseModalDialog>
</UIDisplay>
